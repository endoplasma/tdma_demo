# -*- makefile -*-

CONTIKI_PROJECT = udpPlug
all: $(CONTIKI_PROJECT)

client: $(CONTIKI_PROJECT) defines
	@mv $(CONTIKI_PROJECT).$(TARGET).elf $(CONTIKI_PROJECT).CLIENT.efl

koord : PROJECT_DEFINES += \
	SLOTTED_KOORDINATOR \
	JITTER_SIMULATION

koord: $(CONTIKI_PROJECT)
	@mv $(CONTIKI_PROJECT).$(TARGET).elf $(CONTIKI_PROJECT).KOORD.efl

bin: $(CONTIKI_PROJECT).bin
	@

USE_USART3=1

UIP_CONF_IPV6=1
UIP_CONF_IPV6_RPL=1

TDMA_TEST=1

PROJECT_DEFINES = \
	AUTOSTART_ENABLE \
	TDMA_TEST=1 \
	PROJECT_CONF_H=\"project-conf.h\" \

ifeq ($(TDMA_MODE),KOORD_SIM)
PROJECT_DEFINES += \
	SLOTTED_KOORDINATOR \
	JITTER_SIMULATION
else ifeq ($(TDMA_MODE),KOORD)
PROJECT_DEFINES+= SLOTTED_KOORDINATOR
else 
PROJECT_DEFINES+= 
endif

CONTIKI = ../..
include $(CONTIKI)/Makefile.include
